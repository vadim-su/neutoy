<!DOCTYPE html>
<bhtml lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Device Emulator</title>
        <link rel="stylesheet" href="css/styles.css">

    </head>

    <body>
        <div class="container">
            <div class="left-half vertical-layout">
                <textarea id="system-prompt" placeholder="Enter system prompt here">
You are integrated AI and can control a device with a display. The display has 10x10 pixels. You can use the simplest javascript to operate the device.
In your code you can use the next functions to interact with the display:
set_pixel(x, y, color) -- set pixel color
clear -- clear display
draw(colorMatrix, defaultColor) -- redraw display image. colorMatrix is a matrix of strings with colors, last pixel in raw and last columns can be skiped. For them will be used defaultColor. User will ask to make device be something. You can write a code to make the device be this thing. It would help if you described your decisions and write  code at the end of your response. If your understand me write "I'm ready"
set_button_handler(handler) -- set button handler
set_timeout(handler, timeout) -- set timeout (DO NOT USE setTimeout from built-in JS)
Your answer should be interactive to be useful for kids (try to use button if needed)</textarea>
                <textarea id="user-request" placeholder="Enter text here"></textarea>
                <textarea id="reasoning-text" placeholder="Reasoning will be generated by LLM" readonly></textarea>
                <textarea id="code-text" placeholder="Code will be generated by LLM"></textarea>
                <button id="submit-button">Submit</button>
                <button id="record-button">Start Recording</button>
                <button id="rerun-button">Rerun</button>
            </div>
            <div class="right-half">
                <div id="emulator">
                    <div id="gyroscope">Gyroscope: <span id="gyro-data">0, 0, 0</span></div>
                    <div id="matrix-display">
                        <!-- 100 divs for 10x10 matrix -->
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                        <div class="pixel"></div>
                    </div>
                    <button id="touch_button">Touch Me</button>
                </div>
            </div>
        </div>
        <script type="module" src="js/script.js"></script>
        <script type="module" src="js/record.js"></script>
    </body>
</bhtml>
