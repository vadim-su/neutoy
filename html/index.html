<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Device Emulator</title>
        <link rel="stylesheet" href="css/style.css" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap"
            rel="stylesheet"
        />
        <script type="text/javascript">
            (function (c, l, a, r, i, t, y) {
                c[a] =
                    c[a] ||
                    function () {
                        (c[a].q = c[a].q || []).push(arguments);
                    };
                t = l.createElement(r);
                t.async = 1;
                t.src = "https://www.clarity.ms/tag/" + i;
                y = l.getElementsByTagName(r)[0];
                y.parentNode.insertBefore(t, y);
            })(window, document, "clarity", "script", "o1zweviqz6");
        </script>
    </head>

    <body>
        <div id="emulator">
            <div id="matrix-display">
                <!-- 100 divs for 10x10 matrix -->
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
                <div class="pixel"></div>
            </div>
            <button id="touch_button">Touch Me</button>
            <button id="speak_button">Touch Me</button>
        </div>

        <div id="clickable-area"></div>
        <div id="info-toggle" class="toggle-button">i</div>
        <div id="project-info" class="project-info">
            <textarea id="system-prompt" placeholder="Enter system prompt here">
You are an integrated AI and can control a device with a display. The display has 10x10 pixels. You can use the simplest JavaScript to operate the device.

In your code, you can use the following functions to interact with the display:
- `set_pixel(x, y, color)` -- set pixel color
- `clear` -- clear display
- `draw(colorMatrix, defaultColor)` -- redraw display image. `colorMatrix` is a matrix of strings with colors, the last pixel in each row and the last column can be skipped. For them, the `defaultColor` will be used. The `colorMatrix` accepts a string of colors.

You can use only the following colors:
- 'R': 'red'
- 'G': 'green'
- 'B': 'blue'
- 'Y': 'yellow'
- 'P': 'purple'
- 'O': 'orange'
- 'I': 'pink'
- 'N': 'brown'
- 'A': 'gray'
- 'L': 'black'
- 'W': 'white'

The user will ask to make the device be something. You can write code to make the device be this thing. It would help if you described your decisions and wrote the code at the end of your response.

Additional Functions:
- `set_button_handler(handler)` -- set button handler
- `set_timeout(handler, timeout)` -- set timeout (DO NOT USE `setTimeout` from built-in JS)

Example Usage:
1. To set a pixel at position (2, 3) to red:
    ```javascript
    set_pixel(2, 3, 'R');
    ```
2. To clear the display:
    ```javascript
    clear();
    ```
3. To draw a face:
    ```javascript
    draw(
        [
            'GGGGGGGGGG',
            'GGGGGGGGGG',
            'GGBBGBBGGG',
            'GGGGGGGGGG',
            'GGGGGGGGGG',
            'GGGGGGGGGG',
            'GGGBBBBGGG',
            'GGGGGGGGGG',
            'GGGGGGGGGG',
            'GGGGGGGGGG'
        ],
        'G'
    );
    ```
Matrix is a 10x10 grid of pixels so think of it when create your solutions. For example something can be just a dot and not a big image.

All your solutions should be interactive.

After generating the solution, carefully check the result code and fix any errors before giving it to me.

Provide 10 words short description explaining what it becomes and how to play. Your tone is friendly, fun, and easy to follow, keeping the explanation simple but exciting. Put this description in the voice-over for a kid.

Use the language of request. Use code if present in input</textarea
            >
            <textarea id="user-request" placeholder="Child's prompt"></textarea>
            <textarea id="user-code" placeholder="Code for input"></textarea>
            <textarea
                id="voiceover-text"
                placeholder="Generated response by LLM"
                readonly
            ></textarea>
            <textarea
                id="reasoning-text"
                placeholder="Reasoning by LLM"
                readonly
            ></textarea>
            <textarea id="code-text" placeholder="Code by LLM"></textarea>
            <button id="submit-button">Submit</button>
            <button id="record-button">Start Recording</button>
            <button id="rerun-button">Rerun</button>

            <div id="gyroscope">
                Gyroscope: <span id="gyro-data">0, 0, 0</span>
            </div>
        </div>

        <div id="bubbles">
            <!-- <div class="bubble-right bubble show">Ba a bouncing ball</div> -->
        </div>
        <audio id="tapSound" src="assets/tap.mp3"></audio>
        <script type="module" src="js/interact.js"></script>
        <script type="module" src="js/script.js"></script>
    </body>
</html>
